# /bot/handlers/status.py

from telegram import Update
from telegram.ext import ContextTypes, CommandHandler
from bot.utils.language import get_language

async def status(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    lang = get_language(update)

    if lang == "de":
        msg = (
            "ğŸ“Š *Systemstatus A.R.K.*\n"
            "----------------------------------\n"
            "âœ… *Bot lÃ¤uft stabil*\n"
            "ğŸ“¡ Marktanalyse aktiv\n"
            "âš™ï¸ Analyse-Engine verknÃ¼pft\n"
            "âœ‰ï¸ Telegram-Verbindung steht\n"
            "â­ï¸ Signal-Logik vollstÃ¤ndig aktiv\n"
            "\n"
            "_Alles funktioniert wie geplant â€“ Fokus auf deinen nÃ¤chsten Trade._"
        )
    else:
        msg = (
            "ğŸ“Š *A.R.K. System Status*\n"
            "----------------------------------\n"
            "âœ… *Bot running smoothly*\n"
            "ğŸ“¡ Market analysis active\n"
            "âš™ï¸ Engine fully connected\n"
            "âœ‰ï¸ Telegram connection stable\n"
            "â­ï¸ Signal system fully active\n"
            "\n"
            "_Everything is on track â€“ focus on your next move._"
        )

    await update.message.reply_markdown(msg)

# === Handler exportieren ===
status_handler = CommandHandler("status", status)
